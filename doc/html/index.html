<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LaLib: Linear Algebra Library (LaLib) and TestRunner Application</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LaLib
   </div>
   <div id="projectbrief">Brain Corporation Request for Single Code Sample for Michael Meloney</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Linear Algebra Library (<a class="el" href="namespaceLaLib.html" title="Header File of LaLib, a linear algebra shared library for client with awful case of not-invented-here...">LaLib</a>) and TestRunner Application </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro_sec"></a>
Introduction</h1>
<p>Welcome to Michael's solution for Brain Corporation. Here you will find the shared library as requested. Additionally, there is a test application to demonstrate usage of the library and automated test to prove correctness. How is this achieved? There is a third package, generator, that takes advantage of <a href="https://www.numpy.org/,">https://www.numpy.org/,</a> the fundamental package for scientific computing with Python. This standalone application will generate know matricies and expected results. The TestRunner application will consume one of these test case files and run the results of <a class="el" href="namespaceLaLib.html" title="Header File of LaLib, a linear algebra shared library for client with awful case of not-invented-here...">LaLib</a> against it in an automated fashion. The results are printed at the end of the test execution.</p>
<h1><a class="anchor" id="install_sec"></a>
Build</h1>
<p>Run makeall<br />
 This simple shell script will compile the shared library into LaLib.so as well as compile and link the TestRunner application to drive the library.</p>
<p>g++ -fPIC <a class="el" href="LaLib_8cpp.html" title="Implement multiply and transpose operations for LaLib.">LaLib.cpp</a> -shared -o LaLib.so<br />
 g++ -o TestRunner <a class="el" href="TestRunner_8cpp.html" title="Sample application and automated test framework to execute a single operation or run many operations ...">TestRunner.cpp</a> LaLib.so</p>
<h1><a class="anchor" id="exe_sec"></a>
Execution</h1>
<p>Run ./TestRunner -h to view application help</p>
<p>This test application will load the linear algebra shared library and execute with the following options.<br />
<br />
 Options:<br />
 -t Transponse<br />
 -m Multiply<br />
 -tf &lt;filename&gt; Execute transpose simulations from given file<br />
 -mf &lt;filename&gt; Execute multiply simulations from given file<br />
<br />
 </p>
<h2><a class="anchor" id="trans_subc"></a>
Transpose</h2>
<div class="fragment"><div class="line">$ ./TestRunner -t</div><div class="line">Transpose given matrix.</div><div class="line">Enter rows and columns of matrix: 3 1</div><div class="line"></div><div class="line">Enter elements of matrix:</div><div class="line">Enter element [1][1]: 3</div><div class="line">Enter element [2][1]: 8</div><div class="line">Enter element [3][1]: 24</div><div class="line"></div><div class="line">Transpose:</div><div class="line"> 3 8 24</div></div><!-- fragment --><h2><a class="anchor" id="multiply_subc"></a>
Multiply</h2>
<div class="fragment"><div class="line">$ ./TestRunner -m</div><div class="line">Multiply given matrices <span class="keyword">using</span> the dot product.</div><div class="line">Enter rows and columns <span class="keywordflow">for</span> first matrix: 2 2</div><div class="line">Enter rows and columns <span class="keywordflow">for</span> second matrix: 2 2</div><div class="line"></div><div class="line">Enter elements of first matrix:</div><div class="line">Enter element [1][1]: 1</div><div class="line">Enter element [1][2]: 2</div><div class="line">Enter element [2][1]: 3</div><div class="line">Enter element [2][2]: 4</div><div class="line"></div><div class="line">Enter elements of second matrix:</div><div class="line">Enter element [1][1]: 5</div><div class="line">Enter element [1][2]: 6</div><div class="line">Enter element [2][1]: 7</div><div class="line">Enter element [2][2]: 8</div><div class="line"></div><div class="line">Product:</div><div class="line"> 19 22</div><div class="line"> 43 50</div></div><!-- fragment --><h1><a class="anchor" id="correctness_sec"></a>
Prove Correctness</h1>
<p>To prove correctness, execute the generator application to produce known results. Then run TestRunner application to pull in the random matricies, call <a class="el" href="namespaceLaLib.html" title="Header File of LaLib, a linear algebra shared library for client with awful case of not-invented-here...">LaLib</a> to calculcate a result, and then compare the calculated result against the numpy verified result from generator output. Note: The assignment indicates to utilize only the C++ standard library to implement the shared library. This is honored indeed. However, in order to prove correctness, we must utilize a verifiable and known quantity, and there is no better choice than a package such as numpy, especially considering the simplicity and ease of coding that python solution.</p>
<h2><a class="anchor" id="gen_subc"></a>
Generator</h2>
<p>Run the generator to generate known transpose operations as follows: </p><div class="fragment"><div class="line">./<a class="code" href="namespacegenerator.html">generator</a>.py -t 1000 -10 10 1 100 &gt; test/many-transpose.test</div></div><!-- fragment --><p> This will generate 1000 test cases and save in given file. From here, correctness is verfied by executing the TestRunner as follows. In this example we run transpose operations: </p><div class="fragment"><div class="line">$ ./TestRunner -tf test/many-transpose.test</div><div class="line">Transpose simulations from: test/many-transpose.test</div><div class="line">Success. All 1000 transpose test cases match expected result.</div></div><!-- fragment --><p> If there is a failure, it will be reported as follows. In this example we run multiply operations on a generated file, but we open it first and manually edit the file to change one of the expected elements: </p><div class="fragment"><div class="line">./TestRunner -mf test/m6-expectedFail.test</div><div class="line">Multiply simulations from: test/m6-expectedFail.test</div><div class="line"></div><div class="line">Failed on multiply test <span class="keywordflow">case</span> 9987</div><div class="line"></div><div class="line">matrixA:</div><div class="line">14 7 18 8 7 20 6 12 20 20 20 20 3 19 11 5 5 5 5 0 8 10 5</div><div class="line">2 19 3 0 4 14 18 3 6 17 11 11 11 13 10 7 13 6 9 7 1 20 3</div><div class="line">19 8 0 13 13 4 14 12 3 3 14 15 17 18 20 14 12 3 1 0 8 7 10</div><div class="line">18 15 20 14 17 16 5 7 12 4 17 19 17 19 0 2 9 19 4 13 1 10 15</div><div class="line">1 5 7 1 0 14 20 6 4 6 11 4 3 8 4 16 2 12 0 1 5 17 10</div><div class="line">15 20 19 20 1 8 1 0 14 3 10 9 12 19 3 6 4 14 2 18 12 19 2</div><div class="line">2 14 20 18 6 4 3 9 18 0 16 7 16 10 1 4 16 16 17 7 5 17 13</div><div class="line">19 3 6 1 1 18 12 3 10 9 15 9 13 10 6 18 5 5 11 5 17 11 20</div><div class="line">13 16 6 10 11 7 16 12 19 17 17 5 11 17 15 4 18 10 10 9 11 11 18</div><div class="line">14 3 15 20 4 20 16 4 16 10 13 4 9 19 1 17 3 17 13 18 18 16 19</div><div class="line"></div><div class="line">matrixB:</div><div class="line">9 7 1 14 10 6 10 0 11 14 5 9</div><div class="line">1 0 12 0 1 12 1 6 6 10 8 3</div><div class="line">4 12 0 3 2 14 14 14 0 5 12 8</div><div class="line">0 0 14 12 2 12 12 9 6 5 10 0</div><div class="line">12 7 4 12 6 12 12 11 9 11 6 2</div><div class="line">14 9 12 4 6 5 0 8 2 11 13 4</div><div class="line">7 2 4 8 3 13 3 10 4 1 7 1</div><div class="line">0 3 9 6 11 6 13 8 8 13 8 0</div><div class="line">0 1 6 14 14 7 0 12 12 7 5 1</div><div class="line">11 14 6 2 9 12 3 14 13 12 10 2</div><div class="line">3 12 8 6 1 10 3 9 6 5 3 13</div><div class="line">4 4 14 7 5 7 11 8 4 14 0 6</div><div class="line">13 8 0 10 5 2 6 4 4 2 0 5</div><div class="line">13 0 3 5 5 7 9 3 10 2 1 14</div><div class="line">0 13 14 9 7 6 1 6 4 0 0 7</div><div class="line">14 0 3 11 6 6 12 14 14 12 14 9</div><div class="line">4 9 11 8 5 3 11 9 3 14 3 12</div><div class="line">10 10 7 7 9 6 13 9 5 3 2 8</div><div class="line">5 3 8 12 5 0 2 13 1 1 6 5</div><div class="line">1 10 6 9 3 3 2 10 0 14 3 13</div><div class="line">8 8 6 12 6 2 8 11 4 10 7 1</div><div class="line">7 5 8 0 14 3 3 3 12 9 12 4</div><div class="line">0 11 12 7 10 3 4 11 2 14 13 13</div><div class="line"></div><div class="line">productExpected:</div><div class="line">1556 1657 1834 1755 1641 1911 1597 2152 1690 2049 1607 1472</div><div class="line">1405 1302 1594 1256 1276 1467 1037 1716 1339 1614 1310 1260</div><div class="line">1471 1343 1680 1904 1395 1583 1674 1705 1543 1804 1232 1474</div><div class="line">1724 1780 1906 2015 1632 1998 2000 2215 1573 2289 1639 1879</div><div class="line">1148 970 1107 982 1050 1134 955 1396 1053 1202 1256 974</div><div class="line">1361 1336 1578 1666 1363 1646 1574 1809 1435 1820 1457 1505</div><div class="line">1206 1437 1765 1788 1470 1593 1663 216 1319 1764 1538 1520</div><div class="line">1620 1530 1530 1833 1532 1340 1338 1956 1432 1947 1613 1541</div><div class="line">1573 1858 2112 2164 1853 1968 1684 2427 1799 2267 1723 1769</div><div class="line">1917 1792 1952 2302 1854 1905 1868 2606 1757 2294 2118 1859</div><div class="line"></div><div class="line">productCalculated:</div><div class="line">1556 1657 1834 1755 1641 1911 1597 2152 1690 2049 1607 1472</div><div class="line">1405 1302 1594 1256 1276 1467 1037 1716 1339 1614 1310 1260</div><div class="line">1471 1343 1680 1904 1395 1583 1674 1705 1543 1804 1232 1474</div><div class="line">1724 1780 1906 2015 1632 1998 2000 2215 1573 2289 1639 1879</div><div class="line">1148 970 1107 982 1050 1134 955 1396 1053 1202 1256 974</div><div class="line">1361 1336 1578 1666 1363 1646 1574 1809 1435 1820 1457 1505</div><div class="line">1206 1437 1765 1788 1470 1593 1663 2126 1319 1764 1538 1520</div><div class="line">1620 1530 1530 1833 1532 1340 1338 1956 1432 1947 1613 1541</div><div class="line">1573 1858 2112 2164 1853 1968 1684 2427 1799 2267 1723 1769</div><div class="line">1917 1792 1952 2302 1854 1905 1868 2606 1757 2294 2118 1859</div></div><!-- fragment --><h1><a class="anchor" id="trouble_sec"></a>
Troubleshooting</h1>
<ol type="1">
<li>cygwin can find the *.so library in current directory, but WSL and other environments may not.<br />
 Set the LD_LIBRARY_PATH as follows:<br />
 export LD_LIBRARY_PATH=.</li>
<li>The Python generator requires numpy; install it as faollows:<br />
 pip install numpy</li>
<li>Turn on logging in the <a class="el" href="namespaceLaLib.html" title="Header File of LaLib, a linear algebra shared library for client with awful case of not-invented-here...">LaLib</a> by defining LOGGING:<br />
 #define LOGGING</li>
<li>Useful online matrix calculator:<br />
 <a href="https://matrix.reshish.com/multCalculation.php">https://matrix.reshish.com/multCalculation.php</a></li>
<li>Numpy reference:<br />
 <a href="https://docs.scipy.org/doc/numpy/reference/index.html">https://docs.scipy.org/doc/numpy/reference/index.html</a></li>
</ol>
<h1><a class="anchor" id="roadmap_sec"></a>
Road Map</h1>
<ol type="1">
<li><a class="el" href="namespaceLaLib.html" title="Header File of LaLib, a linear algebra shared library for client with awful case of not-invented-here...">LaLib</a> implements the linear algebra operations as functions. It may become useful one day to wrap these in a C++ class.</li>
<li>The mf and tf options from TestRunner will execute all the test cases in a given directory </li>
</ol>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
